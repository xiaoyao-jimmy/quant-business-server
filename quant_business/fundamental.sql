DROP TABLE IF EXISTS financial_asset_classifications;

CREATE TABLE IF NOT EXISTS financial_asset_classifications (
    symbol TEXT PRIMARY KEY,
    stock_type INTEGER,
    style_box INTEGER,
    growth_grade TEXT,
    financial_health_grade TEXT,
    profitability_grade TEXT,
    morningstar_industry_code INTEGER,
    morningstar_industry_group_code INTEGER,
    morningstar_sector_code INTEGER,
    morningstar_economy_sphere_code INTEGER,
    sic INTEGER,
    naics INTEGER,
    style_score REAL,
    size_score REAL,
    growth_score REAL,
    value_score REAL,
    nace REAL,
    cannaics INTEGER,
    date TEXT
);

DROP TABLE IF EXISTS financial_company_profiles;

CREATE TABLE IF NOT EXISTS financial_company_profiles (
    symbold TEXT PRIMARY KEY,
    headquarter_address_line_1 TEXT,
    headquarter_address_line_2 TEXT,
    headquarter_address_line_3 TEXT,
    headquarter_address_line_4 TEXT,
    headquarter_address_line_5 TEXT,
    headquarter_city TEXT,
    headquarter_province TEXT,
    headquarter_country TEXT,
    headquarter_postal_code TEXT,
    headquarter_phone TEXT,
    headquarter_fax TEXT,
    headquarter_homepage TEXT,
    total_employee_number TEXT,
    contact_email TEXT,
    average_employee_number INTEGER,
    registered_address_line_1 TEXT,
    registered_address_line_2 TEXT,
    registered_address_line_3 TEXT,
    registered_address_line_4 TEXT,
    registered_city TEXT,
    registered_province TEXT,
    registered_country TEXT,
    registered_postal_code TEXT,
    registered_phone TEXT,
    registered_fax TEXT,
    is_head_office_same_with_registered_office_flag TEXT,
    shares_outstanding INTEGER,
    market_cap INTEGER,
    enterprise_value INTEGER,
    share_class_level_shares_outstanding INTEGER,
    shares_outstanding_with_balance_sheet_ending_date INTEGER,
    reasonof_shares_change TEXT,
    date TEXT
);

DROP TABLE IF EXISTS financial_valuation_ratios;

CREATE TABLE IF NOT EXISTS financial_valuation_ratios (
    symbol TEXT PRIMARY KEY,
    payout_ratio REAL,
    sustainable_growth_rate REAL,
    cash_return REAL,
    sales_per_share REAL,
    book_value_per_share REAL,
    cfo_per_share REAL,
    fcf_per_share REAL,
    earning_yield REAL,
    pe_ratio REAL,
    sales_yield REAL,
    ps_ratio REAL,
    book_value_yield REAL,
    pb_ratio REAL,
    cf_yield REAL,
    pcf_ratio REAL,
    fcf_yield REAL,
    fcf_ratio REAL,
    trailing_dividend_yield REAL,
    forward_dividend_yield REAL,
    forward_earning_yield REAL,
    forward_pe_ratio REAL,
    peg_ratio REAL,
    peg_payback REAL,
    tangible_book_value_per_share REAL,
    tangible_bv_per_share_3_yr_avg REAL,
    tangible_bv_per_share_5_yr_avg REAL,
    forward_dividend REAL,
    working_capital_per_share REAL,
    working_capital_per_share_3_yr_avg REAL,
    working_capital_per_share_5_yr_avg REAL,
    ev_to_ebitda REAL,
    buy_back_yield REAL,
    total_yield REAL,
    ratio_pe_5_year_average REAL,
    price_change_1m REAL,
    normalized_pe_ratio REAL,
    price_to_ebitda REAL,
    div_yield_5_year REAL,
    forward_roe REAL,
    forward_roa REAL,
    two_years_forward_earning_yield REAL,
    two_years_forward_pe_ratio REAL,
    forward_calculation_style REAL,
    actual_forward_dividend REAL,
    trailing_calculation_style REAL,
    actual_trailing_dividend REAL,
    total_asset_per_share REAL,
    expected_dividend_growth_rate REAL,
    ev_to_revenue REAL,
    ev_to_pre_tax_income REAL,
    ev_to_total_assets REAL,
    ev_to_fcf REAL,
    ev_to_ebit REAL,
    ffo_per_share REAL,
    price_to_cash_ratio REAL,
    ev_to_forward_ebitda REAL,
    ev_to_forward_revenue REAL,
    ev_to_forward_ebit REAL,
    ev_to_ebitda_1_year_growth REAL,
    ev_to_fcf_1_year_growth REAL,
    ev_to_revenue_1_year_growth REAL,
    ev_to_total_assets_1_year_growth REAL,
    pfcf_ratio_1_year_growth REAL,
    pb_ratio_1_year_growth REAL,
    pe_ratio_1_year_growth REAL,
    ps_ratio_1_year_growth REAL,
    ev_to_ebit_3_yr_avg REAL,
    ev_to_ebitda_3_yr_avg REAL,
    ev_to_fcf_3_yr_avg REAL,
    ev_to_revenue_3_yr_avg REAL,
    ev_to_total_assets_3_yr_avg REAL,
    ev_to_ebit_3_yr_avg_change REAL,
    ev_to_ebitda_3_yr_avg_change REAL,
    ev_to_fcf_3_yr_avg_change REAL,
    ev_to_revenue_3_yr_avg_change REAL,
    ev_to_total_assets_3_yr_avg_change REAL,
    pfcf_ratio_3_yr_avg REAL,
    pb_ratio_3_yr_avg REAL,
    ps_ratio_3_yr_avg REAL,
    p_cash_ratio_3_yr_avg REAL,
    pe_ratio_3_yr_avg REAL,
    pfcf_ratio_3_yr_avg_change REAL,
    pb_ratio_3_yr_avg_change REAL,
    ps_ratio_3_yr_avg_change REAL,
    pe_ratio_3_yr_avg_change REAL,
    pe_ratio_1_year_high REAL,
    pe_ratio_1_year_low REAL,
    pe_ratio_1_year_average REAL,
    pe_ratio_5_year_high REAL,
    pe_ratio_5_year_low REAL,
    pe_ratio_5_year_average REAL,
    pe_ratio_10_year_high REAL,
    pe_ratio_10_year_low REAL,
    pe_ratio_10_year_average REAL,
    cape_ratio REAL,
    ev_to_ebitda_3_year_growth REAL,
    ev_to_fcf_3_year_growth REAL,
    ev_to_revenue_3_year_growth REAL,
    ev_to_total_assets_3_year_growth REAL,
    pfcf_ratio_3_year_growth REAL,
    pb_ratio_3_year_growth REAL,
    pe_ratio_3_year_growth REAL,
    ps_ratio_3_year_growth REAL,
    ev_to_ebitda_5_year_growth REAL,
    ev_to_fcf_5_year_growth REAL,
    ev_to_revenue_5_year_growth REAL,
    ev_to_total_assets_5_year_growth REAL,
    pfcf_ratio_5_year_growth REAL,
    pb_ratio_5_year_growth REAL,
    pe_ratio_5_year_growth REAL,
    ps_ratio_5_year_growth REAL,
    ev_to_ebitda_10_year_growth REAL,
    ev_to_fcf_10_year_growth REAL,
    ev_to_revenue_10_year_growth REAL,
    ev_to_total_assets_10_year_growth REAL,
    pfcf_ratio_10_year_growth REAL,
    pb_ratio_10_year_growth REAL,
    pe_ratio_10_year_growth REAL,
    ps_ratio_10_year_growth REAL,
    two_yrs_ev_to_forward_ebit REAL,
    two_yrs_ev_to_forward_ebitda REAL,
    first_year_estimated_eps_growth REAL,
    second_year_estimated_eps_growth REAL,
    normalized_peg_ratio REAL,
    date TEXT
);

DROP TABLE IF EXISTS financial_earning_ratios;

CREATE TABLE IF NOT EXISTS financial_earning_ratios (
    symbol TEXT,
    recent_month TEXT,
    diluted_eps_growth REAL,
    diluted_cont_eps_growth REAL,
    dps_growth REAL,
    equity_per_share_growth REAL,
    regression_growthof_dividends_5_years REAL,
    fcf_per_share_growth REAL,
    book_value_per_share_growth REAL,
    normalized_diluted_eps_growth REAL,
    normalized_basic_eps_growth REAL,
    date TEXT
);

CREATE UNIQUE INDEX idx_financial_earning_ratios ON financial_earning_ratios (symbol, recent_month);

DROP TABLE IF EXISTS financial_operation_ratios;

CREATE TABLE IF NOT EXISTS financial_operation_ratios (
    symbol TEXT,
    recent_month TEXT,
    revenue_growth REAL,
    operation_income_growth REAL,
    net_income_growth REAL,
    net_income_cont_ops_growth REAL,
    cfo_growth REAL,
    fcf_growth REAL,
    operation_revenue_growth_3_month_avg REAL,
    gross_margin REAL,
    operation_margin REAL,
    pretax_margin REAL,
    net_margin REAL,
    tax_rate REAL,
    ebit_margin REAL,
    ebitda_margin REAL,
    sales_per_employee REAL,
    current_ratio REAL,
    quick_ratio REAL,
    long_term_debt_total_capital_ratio REAL,
    interest_coverage REAL,
    long_term_debt_equity_ratio REAL,
    financial_leverage REAL,
    total_debt_equity_ratio REAL,
    normalized_net_profit_margin REAL,
    days_in_sales REAL,
    days_in_inventory REAL,
    days_in_payment REAL,
    cash_conversion_cycle REAL,
    receivable_turnover REAL,
    inventory_turnover REAL,
    payment_turnover REAL,
    fix_assets_turonver REAL,
    assets_turnover REAL,
    roe REAL,
    roa REAL,
    roic REAL,
    fcf_sales_ratio REAL,
    fcf_net_income_ratio REAL,
    cap_ex_sales_ratio REAL,
    debt_to_assets REAL,
    common_equity_to_assets REAL,
    capital_expenditure_annual_5_yr_growth REAL,
    gross_profit_annual_5_yr_growth REAL,
    gross_margin_5_yr_avg REAL,
    post_tax_margin_5_yr_avg REAL,
    pre_tax_margin_5_yr_avg REAL,
    profit_margin_5_yr_avg REAL,
    roe_5_yr_avg REAL,
    roa_5_yr_avg REAL,
    avg_5_yrs_roic REAL,
    normalized_roic REAL,
    regression_growth_operating_revenue_5_years REAL,
    cash_ratio REAL,
    cashto_total_assets REAL,
    capital_expenditureto_ebitda REAL,
    fc_fto_cfo REAL,
    stockholders_equity_growth REAL,
    total_assets_growth REAL,
    total_liabilities_growth REAL,
    total_debt_equity_ratio_growth REAL,
    cash_ratio_growth REAL,
    ebitda_growth REAL,
    cash_flow_from_financing_growth REAL,
    cash_flow_from_investing_growth REAL,
    cap_ex_growth REAL,
    current_ratio_growth REAL,
    working_capital_turnover_ratio REAL,
    net_income_per_employee REAL,
    solvency_ratio REAL,
    expense_ratio REAL,
    loss_ratio REAL,
    date TEXT
);

CREATE UNIQUE INDEX idx_financial_operation_ratios ON financial_operation_ratios (symbol, recent_month);

DROP TABLE IF EXISTS financial_earning_reports;

CREATE TABLE IF NOT EXISTS financial_earning_reports (
    symbol TEXT,
    recent_month TEXT,
    period_ending_date TEXT,
    file_date TEXT,
    accession_number REAL,
    form_type REAL,
    period_type REAL,
    basic_continuous_operations REAL,
    basic_discontinuous_operations REAL,
    basic_extraordinary REAL,
    basic_accounting_change REAL,
    basic_eps REAL,
    diluted_continuous_operations REAL,
    diluted_discontinuous_operations REAL,
    diluted_extraordinary REAL,
    diluted_accounting_change REAL,
    diluted_eps REAL,
    basic_average_shares REAL,
    diluted_average_shares REAL,
    dividend_per_share REAL,
    basic_eps_other_gains_losses REAL,
    continuing_and_discontinued_basic_eps REAL,
    tax_loss_carryforward_basic_eps REAL,
    diluted_eps_other_gains_losses REAL,
    continuing_and_discontinued_diluted_eps REAL,
    tax_loss_carryforward_diluted_eps REAL,
    normalized_basic_eps REAL,
    normalized_diluted_eps REAL,
    total_dividend_per_share REAL,
    reported_normalized_basic_eps REAL,
    reported_normalized_diluted_eps REAL,
    dividend_coverage_ratio REAL,
    date TEXT
);

CREATE UNIQUE INDEX idx_financial_earning_reports ON financial_earning_reports (symbol, recent_month);

DROP TABLE IF EXISTS financial_cash_flows;

CREATE TABLE IF NOT EXISTS financial_cash_flows (
    symbol TEXT,
    recent_month TEXT,
    cf_file_date TEXT,
    amortization REAL,
    capital_expenditure REAL,
    cash_dividends_paid REAL,
    cash_flow_from_continuing_financing_activities REAL,
    cash_flow_from_continuing_investing_activities REAL,
    cash_flow_from_continuing_operating_activities REAL,
    cash_flow_from_discontinued_operation REAL,
    financing_cash_flow REAL,
    investing_cash_flow REAL,
    operating_cash_flow REAL,
    beginning_cash_position REAL,
    end_cash_position REAL,
    cash_from_discontinued_financing_activities REAL,
    cash_from_discontinued_investing_activities REAL,
    change_in_account_payable REAL,
    change_in_tax_payable REAL,
    change_in_accrued_expense REAL,
    change_in_accrued_investment_income REAL,
    changes_in_cash REAL,
    change_in_deferred_acquisition_costs REAL,
    change_in_federal_funds_and_securities_sold_for_repurchase REAL,
    change_in_funds_withheld REAL,
    change_in_income_tax_payable REAL,
    change_in_interest_payable REAL,
    change_in_inventory REAL,
    change_in_loans REAL,
    change_in_loss_and_loss_adjustment_expense_reserves REAL,
    change_in_payable REAL,
    change_in_payables_and_accrued_expense REAL,
    change_in_prepaid_assets REAL,
    change_in_receivables REAL,
    change_in_reinsurance_recoverable_on_paid_and_unpaid_losses REAL,
    change_in_restricted_cash REAL,
    change_in_trading_account_securities REAL,
    change_in_working_capital REAL,
    deferred_income_tax REAL,
    deferred_tax REAL,
    depletion REAL,
    depreciation REAL,
    depreciation_and_amortization REAL,
    depreciation_amortization_depletion REAL,
    effect_of_exchange_rate_changes REAL,
    increase_decrease_in_deposit REAL,
    net_common_stock_issuance REAL,
    net_issuance_payments_of_debt REAL,
    net_long_term_debt_issuance REAL,
    net_preferred_stock_issuance REAL,
    net_short_term_debt_issuance REAL,
    net_cash_from_discontinued_operations REAL,
    net_foreign_currency_exchange_gain_loss REAL,
    net_income_from_continuing_operations REAL,
    payment_for_loans REAL,
    common_stock_payments REAL,
    preferred_stock_payments REAL,
    long_term_debt_payments REAL,
    short_term_debt_payments REAL,
    proceeds_from_loans REAL,
    proceeds_from_stock_option_exercised REAL,
    common_stock_issuance REAL,
    long_term_debt_issuance REAL,
    preferred_stock_issuance REAL,
    short_term_debt_issuance REAL,
    net_proceeds_payment_for_loan REAL,
    proceeds_payment_in_interest_bearing_deposits_in_bank REAL,
    purchase_of_intangibles REAL,
    purchase_of_investment REAL,
    purchase_of_ppe REAL,
    purchase_of_business REAL,
    net_business_purchase_and_sale REAL,
    net_intangibles_purchase_and_sale REAL,
    net_investment_purchase_and_sale REAL,
    net_ppe_purchase_and_sale REAL,
    sale_of_business REAL,
    sale_of_intangibles REAL,
    sale_of_investment REAL,
    sale_of_ppe REAL,
    changes_in_account_receivables REAL,
    amortization_of_financing_costs_and_discounts REAL,
    amortization_of_securities REAL,
    asset_impairment_charge REAL,
    change_in_dividend_payable REAL,
    change_in_deferred_charges REAL,
    change_in_other_current_assets REAL,
    change_in_other_current_liabilities REAL,
    change_in_other_working_capital REAL,
    change_in_unearned_premiums REAL,
    common_stock_dividend_paid REAL,
    earnings_losses_from_equity_investments REAL,
    excess_tax_benefit_from_stock_based_compensation REAL,
    gain_loss_on_investment_securities REAL,
    gain_loss_on_sale_of_business REAL,
    gain_loss_on_sale_of_ppe REAL,
    interest_credited_on_policyholder_deposits REAL,
    cash_from_discontinued_operating_activities REAL,
    operating_gains_losses REAL,
    net_other_financing_charges REAL,
    net_other_investing_changes REAL,
    other_non_cash_items REAL,
    pension_and_employee_benefit_expense REAL,
    preferred_stock_dividend_paid REAL,
    proceeds_payment_federal_funds_sold_and_securities_purchased_under_agreement_to_resell REAL,
    provision_for_loan_lease_and_other_losses REAL,
    realized_gain_loss_on_sale_of_loans_and_lease REAL,
    stock_based_compensation REAL,
    unrealized_gain_loss_on_investment_securities REAL,
    unrealized_gains_losses_on_derivatives REAL,
    amortization_of_intangibles REAL,
    income_tax_paid_supplemental_data REAL,
    interest_paid_supplemental_data REAL,
    issuance_of_capital_stock REAL,
    issuance_of_debt REAL,
    repayment_of_debt REAL,
    repurchase_of_capital_stock REAL,
    free_cash_flow REAL,
    decrease_in_interest_bearing_deposits_in_bank REAL,
    increase_in_interest_bearing_deposits_in_bank REAL,
    interest_received_cfo REAL,
    interest_paid_cfo REAL,
    purchase_of_subsidiaries REAL,
    purchase_of_joint_venture_associate REAL,
    sale_of_subsidiaries REAL,
    sale_of_joint_venture_associate REAL,
    increase_decrease_in_lease_financing REAL,
    increase_in_lease_financing REAL,
    repayment_in_lease_financing REAL,
    share_of_associates REAL,
    profit_on_disposals REAL,
    reorganization_other_costs REAL,
    net_outward_loans REAL,
    issue_expenses REAL,
    changein_depositsby_banksand_customers REAL,
    cash_flowsfromusedin_operating_activities_direct REAL,
    classesof_cash_receiptsfrom_operating_activities REAL,
    other_cash_receiptsfrom_operating_activities REAL,
    classesof_cash_payments REAL,
    paymentsto_suppliersfor_goodsand_services REAL,
    paymentson_behalfof_employees REAL,
    other_cash_paymentsfrom_operating_activities REAL,
    dividends_paid_direct REAL,
    dividends_received_direct REAL,
    interest_paid_direct REAL,
    interest_received_direct REAL,
    taxes_refund_paid_direct REAL,
    total_adjustmentsfor_non_cash_items REAL,
    impairment_loss_reversal_recognizedin_profitor_loss REAL,
    dividend_paid_cfo REAL,
    dividend_received_cfo REAL,
    taxes_refund_paid REAL,
    other_operating_inflows_outflowsof_cash REAL,
    cash_advancesand_loans_madeto_other_parties REAL,
    cash_receiptsfrom_repaymentof_advancesand_loans_madeto_other_parties REAL,
    dividends_received_cfi REAL,
    interest_received_cfi REAL,
    interest_paid_cff REAL,
    changein_accrued_income REAL,
    changein_financial_assets REAL,
    changein_advancesfrom_central_banks REAL,
    changein_financial_liabilities REAL,
    changein_insurance_contract_assets REAL,
    changein_reinsurance_receivables REAL,
    changein_deferred_acquisition_costs_net REAL,
    changein_insurance_funds REAL,
    changein_investment_contract_liabilities REAL,
    changein_insurance_contract_liabilities REAL,
    provisionand_write_offof_assets REAL,
    receiptsfrom_customers REAL,
    receiptsfrom_government_grants REAL,
    minority_interest REAL,
    cap_ex_reported REAL,
    cash_receiptsfrom_tax_refunds REAL,
    cash_receiptsfrom_depositsby_banksand_customers REAL,
    cash_receiptsfrom_loans REAL,
    cash_receiptsfrom_securities_related_activities REAL,
    cash_receiptsfrom_feesand_commissions REAL,
    cash_paymentsfor_depositsby_banksand_customers REAL,
    cash_paymentsfor_loans REAL,
    interestand_commission_paid REAL,
    all_taxes_paid REAL,
    cash_receivedfrom_insurance_activities REAL,
    premium_received REAL,
    reinsuranceand_other_recoveries_received REAL,
    policyholder_deposit_investment_received REAL,
    cash_paidfor_insurance_activities REAL,
    claims_paid REAL,
    commission_paid REAL,
    cash_paidto_reinsurers REAL,
    other_underwriting_expenses_paid REAL,
    cash_dividends_for_minorities REAL,
    cash_generatedfrom_operating_activities REAL,
    fund_from_operation REAL,
    net_investment_properties_purchase_and_sale REAL,
    purchase_of_investment_properties REAL,
    sale_of_investment_properties REAL,
    other_cash_adjust_included_into_changein_cash REAL,
    other_cash_adjust_exclude_from_changein_cash REAL,
    changein_cash_supplemental_as_reported REAL,
    date TEXT
);

CREATE UNIQUE INDEX idx_financial_cash_flows ON financial_cash_flows (symbol, recent_month);

DROP TABLE IF EXISTS financial_balance_sheets;

CREATE TABLE IF NOT EXISTS financial_balance_sheets (
    symbol TEXT,
    recent_month TEXT,
    bs_file_date TEXT,
    accounts_payable REAL,
    accounts_receivable REAL,
    current_accrued_expenses REAL,
    non_current_accrued_expenses REAL,
    accrued_investment_income REAL,
    accumulated_depreciation REAL,
    gains_losses_not_affecting_retained_earnings REAL,
    additional_paid_in_capital REAL,
    allowance_for_loans_and_lease_losses REAL,
    available_for_sale_securities REAL,
    capital_stock REAL,
    cash REAL,
    cash_equivalents REAL,
    cash_and_cash_equivalents REAL,
    cash_and_due_from_banks REAL,
    cash_cash_equivalents_and_federal_funds_sold REAL,
    cash_cash_equivalents_and_marketable_securities REAL,
    common_stock REAL,
    current_assets REAL,
    current_debt REAL,
    current_debt_and_capital_lease_obligation REAL,
    current_liabilities REAL,
    current_capital_lease_obligation REAL,
    deferred_assets REAL,
    deferred_costs REAL,
    non_current_deferred_liabilities REAL,
    current_deferred_liabilities REAL,
    deferred_policy_acquisition_costs REAL,
    current_deferred_revenue REAL,
    non_current_deferred_revenue REAL,
    deferred_tax_assets REAL,
    current_deferred_taxes_assets REAL,
    current_deferred_taxes_liabilities REAL,
    non_current_deferred_taxes_assets REAL,
    non_current_deferred_taxes_liabilities REAL,
    equity_investments REAL,
    federal_funds_purchased_and_securities_sold_under_agreement_to_repurchase REAL,
    federal_funds_sold_and_securities_purchase_under_agreements_to_resell REAL,
    fixed_maturity_investments REAL,
    future_policy_benefits REAL,
    general_partnership_capital REAL,
    goodwill REAL,
    goodwill_and_other_intangible_assets REAL,
    gross_loan REAL,
    gross_ppe REAL,
    held_to_maturity_securities REAL,
    income_tax_payable REAL,
    interest_bearing_deposits_liabilities REAL,
    interest_payable REAL,
    interest_bearing_deposits_assets REAL,
    inventory REAL,
    investments_and_advances REAL,
    limited_partnership_capital REAL,
    long_term_debt REAL,
    long_term_debt_and_capital_lease_obligation REAL,
    long_term_investments REAL,
    long_term_capital_lease_obligation REAL,
    minority_interest REAL,
    money_market_investments REAL,
    net_loan REAL,
    net_ppe REAL,
    non_interest_bearing_deposits REAL,
    current_notes_payable REAL,
    notes_receivable REAL,
    non_current_note_receivables REAL,
    other_current_liabilities REAL,
    other_intangible_assets REAL,
    other_short_term_investments REAL,
    payables REAL,
    payables_and_accrued_expenses REAL,
    policy_reserves_benefits REAL,
    policyholder_funds REAL,
    preferred_securities_outside_stock_equity REAL,
    preferred_stock REAL,
    prepaid_assets REAL,
    non_current_prepaid_assets REAL,
    receivables REAL,
    reinsurance_recoverable REAL,
    retained_earnings REAL,
    securities_lending_collateral REAL,
    security_agree_to_be_resell REAL,
    security_sold_not_yet_repurchased REAL,
    separate_account_assets REAL,
    separate_account_business REAL,
    short_term_investments_available_for_sale REAL,
    short_term_investments_held_to_maturity REAL,
    short_term_investments_trading REAL,
    stockholders_equity REAL,
    total_tax_payable REAL,
    total_assets REAL,
    total_deposits REAL,
    total_investments REAL,
    total_non_current_assets REAL,
    total_partnership_capital REAL,
    trading_assets REAL,
    trading_liabilities REAL,
    trading_securities REAL,
    treasury_stock REAL,
    unearned_income REAL,
    unearned_premiums REAL,
    unpaid_loss_and_loss_reserve REAL,
    invested_capital REAL,
    current_deferred_assets REAL,
    non_current_deferred_assets REAL,
    securities_and_investments REAL,
    total_liabilities_net_minority_interest REAL,
    total_non_current_liabilities_net_minority_interest REAL,
    total_equity_gross_minority_interest REAL,
    gross_accounts_receivable REAL,
    non_current_accounts_receivable REAL,
    accrued_interest_receivable REAL,
    advance_from_federal_home_loan_banks REAL,
    allowance_for_doubtful_accounts_receivable REAL,
    allowance_for_notes_receivable REAL,
    assets_held_for_sale REAL,
    assets_of_discontinued_operations REAL,
    bank_indebtedness REAL,
    bank_owned_life_insurance REAL,
    security_borrowed REAL,
    buildings_and_improvements REAL,
    commercial_loan REAL,
    commercial_paper REAL,
    common_stock_equity REAL,
    construction_in_progress REAL,
    consumer_loan REAL,
    minimum_pension_liabilities REAL,
    customer_acceptances REAL,
    defined_pension_benefit REAL,
    derivative_product_liabilities REAL,
    derivative_assets REAL,
    dividends_payable REAL,
    employee_benefits REAL,
    federal_funds_purchased REAL,
    federal_funds_sold REAL,
    federal_home_loan_bank_stock REAL,
    financial_assets REAL,
    financial_instruments_sold_under_agreements_to_repurchase REAL,
    finished_goods REAL,
    flight_fleet_vehicle_and_related_equipments REAL,
    foreclosed_assets REAL,
    foreign_currency_translation_adjustments REAL,
    inventories_adjustments_allowances REAL,
    investments_in_other_ventures_under_equity_method REAL,
    land_and_improvements REAL,
    leases REAL,
    liabilities_of_discontinued_operations REAL,
    line_of_credit REAL,
    loans_held_for_sale REAL,
    loans_receivable REAL,
    machinery_furniture_equipment REAL,
    materials_and_supplies REAL,
    mineral_properties REAL,
    mortgage_loan REAL,
    mortgage_and_consumerloans REAL,
    gross_notes_receivable REAL,
    other_assets REAL,
    other_capital_stock REAL,
    other_current_assets REAL,
    other_current_borrowings REAL,
    other_equity_adjustments REAL,
    other_inventories REAL,
    other_invested_assets REAL,
    other_non_current_assets REAL,
    other_properties REAL,
    other_real_estate_owned REAL,
    other_receivables REAL,
    non_current_pension_and_other_postretirement_benefit_plans REAL,
    policy_loans REAL,
    preferred_stock_equity REAL,
    properties REAL,
    current_provisions REAL,
    long_term_provisions REAL,
    raw_materials REAL,
    receivables_adjustments_allowances REAL,
    regulatory_assets REAL,
    regulatory_liabilities REAL,
    reinsurance_balances_payable REAL,
    restricted_cash REAL,
    restricted_cash_and_cash_equivalents REAL,
    restricted_cash_and_investments REAL,
    restricted_common_stock REAL,
    restricted_investments REAL,
    taxes_receivable REAL,
    total_capitalization REAL,
    total_deferred_credits_and_other_non_current_liabilities REAL,
    unbilled_receivables REAL,
    unrealized_gain_loss REAL,
    work_in_process REAL,
    other_non_current_liabilities REAL,
    capital_lease_obligations REAL,
    other_liabilities REAL,
    other_payable REAL,
    tangible_book_value REAL,
    total_equity REAL,
    working_capital REAL,
    total_debt REAL,
    common_utility_plant REAL,
    electric_utility_plant REAL,
    natural_gas_fuel_and_other REAL,
    net_utility_plant REAL,
    water_production REAL,
    ordinary_shares_number REAL,
    preferred_shares_number REAL,
    treasury_shares_number REAL,
    trading_and_other_receivable REAL,
    equity_attributable_to_owners_of_parent REAL,
    securities_loaned REAL,
    net_tangible_assets REAL,
    duefrom_related_parties_current REAL,
    duefrom_related_parties_non_current REAL,
    dueto_related_parties REAL,
    dueto_related_parties_current REAL,
    dueto_related_parties_non_current REAL,
    investment_properties REAL,
    investmentsin_subsidiariesat_cost REAL,
    investmentsin_associatesat_cost REAL,
    investmentsin_joint_venturesat_cost REAL,
    investmentin_financial_assets REAL,
    finance_lease_receivables REAL,
    convertible_loans_current REAL,
    bank_loans_current REAL,
    other_loans_current REAL,
    accruedand_deferred_income REAL,
    bank_loans_non_current REAL,
    other_loans_non_current REAL,
    other_reserves REAL,
    loansand_advancesto_bank REAL,
    loansand_advancesto_customer REAL,
    treasury_billsand_other_eligible_bills REAL,
    equity_shares_investments REAL,
    depositsby_bank REAL,
    customer_accounts REAL,
    itemsin_the_courseof_transmissionto_other_banks REAL,
    tradingand_financial_liabilities REAL,
    debt_securitiesin_issue REAL,
    subordinated_liabilities REAL,
    provisions_total REAL,
    operating_lease_assets REAL,
    claims_outstanding REAL,
    liabilities_heldfor_sale_current REAL,
    liabilities_heldfor_sale_non_current REAL,
    debt_securities REAL,
    total_financial_lease_obligations REAL,
    accruedand_deferred_income_current REAL,
    accruedand_deferred_income_non_current REAL,
    finance_lease_receivables_current REAL,
    finance_lease_receivables_non_current REAL,
    financial_liabilities_current REAL,
    financial_liabilities_non_current REAL,
    financial_assets_designatedas_fair_value_through_profitor_loss_total REAL,
    taxes_assets_current REAL,
    other_equity_interest REAL,
    interest_bearing_borrowings_non_current REAL,
    non_interest_bearing_borrowings_non_current REAL,
    tradeand_other_payables_non_current REAL,
    non_interest_bearing_borrowings_current REAL,
    pensionand_other_post_retirement_benefit_plans_current REAL,
    other_loan_assets REAL,
    assets_pledgedas_collateral_subjectto_saleor_repledging_total REAL,
    tax_assets_total REAL,
    advancesfrom_central_banks REAL,
    deposit_certificates REAL,
    non_interest_bearing_borrowings_total REAL,
    other_borrowed_funds REAL,
    financial_liabilities_designatedas_fair_value_through_profitor_loss_total REAL,
    financial_liabilities_measuredat_amortized_cost_total REAL,
    accrued_liabilities_total REAL,
    deferred_income_total REAL,
    deferred_tax_liabilities_total REAL,
    reinsurance_assets REAL,
    deposits_madeunder_assumed_reinsurance_contract REAL,
    insurance_contract_assets REAL,
    insurance_contract_liabilities REAL,
    deposits_receivedunder_ceded_insurance_contract REAL,
    investment_contract_liabilities REAL,
    pension_and_other_postretirement_benefit_plans_total REAL,
    liabilities_heldfor_sale_total REAL,
    hedging_assets_current REAL,
    convertible_loans_total REAL,
    bank_loans_total REAL,
    other_loans_total REAL,
    insurance_funds_non_current REAL,
    debt_total REAL,
    com_tre_sha_num REAL,
    pre_tre_sha_num REAL,
    net_debt REAL,
    share_issued REAL,
    assets_held_for_sale_current REAL,
    assets_held_for_sale_non_current REAL,
    biological_assets REAL,
    cash_restricted_or_pledged REAL,
    convertible_loans_non_current REAL,
    financial_or_derivative_investment_current_liabilities REAL,
    other_investments REAL,
    trade_and_other_receivables_non_current REAL,
    due_from_related_parties REAL,
    unallocated_surplus REAL,
    debt_due_in_year_1 REAL,
    debt_due_in_year_2 REAL,
    debt_due_in_year_5 REAL,
    debt_due_beyond REAL,
    total_debt_in_maturity_schedule REAL,
    fixed_assets_revaluation_reserve REAL,
    current_other_financial_liabilities REAL,
    non_current_other_financial_liabilities REAL,
    other_financial_liabilities REAL,
    total_liabilities_as_reported REAL,
    total_equity_as_reported REAL,
    date TEXT
);

CREATE UNIQUE INDEX idx_financial_balance_sheets ON financial_balance_sheets (symbol, recent_month);

DROP TABLE IF EXISTS financial_income_statements;

CREATE TABLE IF NOT EXISTS financial_income_statements (
    symbol TEXT,
    recent_month TEXT,
    is_file_date TEXT,
    amortization REAL,
    securities_amortization REAL,
    cost_of_revenue REAL,
    depletion REAL,
    depreciation REAL,
    depreciation_and_amortization REAL,
    depreciation_amortization_depletion REAL,
    net_income_discontinuous_operations REAL,
    excise_taxes REAL,
    net_income_extraordinary REAL,
    fee_revenue_and_other_income REAL,
    general_and_administrative_expense REAL,
    gross_profit REAL,
    interest_expense REAL,
    interest_expense_non_operating REAL,
    interest_income_after_provision_for_loan_loss REAL,
    interest_income_non_operating REAL,
    net_non_operating_interest_income_expense REAL,
    loss_adjustment_expense REAL,
    minority_interests REAL,
    net_income REAL,
    net_income_common_stockholders REAL,
    net_income_continuous_operations REAL,
    net_interest_income REAL,
    net_investment_income REAL,
    total_revenue REAL,
    non_interest_expense REAL,
    non_interest_income REAL,
    operating_expense REAL,
    operating_income REAL,
    operating_revenue REAL,
    other_income_expense REAL,
    policy_acquisition_expense REAL,
    net_policyholder_benefits_and_claims REAL,
    preferred_stock_dividends REAL,
    total_premiums_earned REAL,
    pretax_income REAL,
    tax_provision REAL,
    credit_losses_provision REAL,
    research_and_development REAL,
    selling_and_marketing_expense REAL,
    selling_general_and_administration REAL,
    special_income_charges REAL,
    total_expenses REAL,
    interest_income REAL,
    ebit REAL,
    ebitda REAL,
    net_income_continuous_operations_net_minority_interest REAL,
    ceded_premiums REAL,
    commission_expenses REAL,
    credit_card REAL,
    dividend_income REAL,
    earnings_from_equity_interest REAL,
    equipment REAL,
    exploration_development_and_mineral_property_lease_expenses REAL,
    fees_and_commissions REAL,
    foreign_exchange_trading_gains REAL,
    fuel REAL,
    fuel_and_purchase_power REAL,
    gain_on_sale_of_business REAL,
    gain_on_sale_of_ppe REAL,
    gain_on_sale_of_security REAL,
    gross_premiums_written REAL,
    impairment_of_capital_assets REAL,
    increase_decrease_in_net_unearned_premium_reserves REAL,
    insurance_and_claims REAL,
    interest_expense_for_deposit REAL,
    interest_expense_for_federal_funds_sold_and_securities_purchase_under_agreements_to_resell REAL,
    interest_expense_for_long_term_debt_and_capital_securities REAL,
    interest_expense_for_short_term_debt REAL,
    interest_income_from_deposits REAL,
    interest_income_from_federal_funds_sold_and_securities_purchase_under_agreements_to_resell REAL,
    interest_income_from_leases REAL,
    interest_income_from_loans REAL,
    interest_income_from_loans_and_lease REAL,
    interest_income_from_securities REAL,
    investment_banking_profit REAL,
    maintenance_and_repairs REAL,
    net_foreign_exchange_gain_loss REAL,
    net_occupancy_expense REAL,
    net_premiums_written REAL,
    net_realized_gain_loss_on_investments REAL,
    occupancy_and_equipment REAL,
    operation_and_maintenance REAL,
    other_customer_services REAL,
    other_interest_expense REAL,
    other_interest_income REAL,
    other_non_interest_expense REAL,
    other_special_charges REAL,
    other_taxes REAL,
    policyholder_benefits_ceded REAL,
    policyholder_benefits_gross REAL,
    policyholder_dividends REAL,
    policyholder_interest REAL,
    professional_expense_and_contract_services_expense REAL,
    provision_for_doubtful_accounts REAL,
    rent_and_landing_fees REAL,
    restructuring_and_mergern_acquisition REAL,
    salaries_and_wages REAL,
    securities_activities REAL,
    service_charge_on_depositor_accounts REAL,
    trading_gain_loss REAL,
    trust_feesby_commissions REAL,
    underwriting_expenses REAL,
    write_off REAL,
    other_non_interest_income REAL,
    amortization_of_intangibles REAL,
    net_income_from_continuing_and_discontinued_operation REAL,
    net_income_from_tax_loss_carryforward REAL,
    other_operating_expenses REAL,
    total_money_market_investments REAL,
    reconciled_cost_of_revenue REAL,
    reconciled_depreciation REAL,
    normalized_income REAL,
    net_income_from_continuing_operation_net_minority_interest REAL,
    gain_losson_saleof_assets REAL,
    gainon_saleof_loans REAL,
    gainon_saleof_investment_property REAL,
    losson_extinguishmentof_debt REAL,
    earningsfrom_equity_interest_net_of_tax REAL,
    net_income_including_noncontrolling_interests REAL,
    otherunder_preferred_stock_dividend REAL,
    staff_costs REAL,
    social_security_costs REAL,
    pension_costs REAL,
    other_operating_income_total REAL,
    incomefrom_associatesand_other_participating_interests REAL,
    total_other_finance_cost REAL,
    gross_dividend_payment REAL,
    feesand_commission_income REAL,
    feesand_commission_expense REAL,
    net_trading_income REAL,
    other_staff_costs REAL,
    gainon_investment_properties REAL,
    average_dilution_earnings REAL,
    gain_losson_financial_instruments_designatedas_cash_flow_hedges REAL,
    gain_losson_derecognitionof_available_for_sale_financial_assets REAL,
    negative_goodwill_immediately_recognized REAL,
    gains_losseson_financial_instruments_dueto_fair_value_adjustmentsin_hedge_accounting_total REAL,
    impairment_losses_reversals_financial_instruments_net REAL,
    claimsand_paid_incurred REAL,
    reinsurance_recoveries_claimsand_benefits REAL,
    changein_insurance_liabilities_netof_reinsurance REAL,
    changein_investment_contract REAL,
    credit_risk_provisions REAL,
    wagesand_salaries REAL,
    other_non_operating_income_expenses REAL,
    other_non_operating_income REAL,
    other_non_operating_expenses REAL,
    total_unusual_items REAL,
    total_unusual_items_excluding_goodwill REAL,
    tax_rate_for_calcs REAL,
    tax_effect_of_unusual_items REAL,
    normalized_ebitda REAL,
    stock_based_compensation REAL,
    diluted_ni_availto_com_stockholders REAL,
    investment_contract_liabilities_incurred REAL,
    reinsurance_recoveriesof_investment_contract REAL,
    total_dividend_paymentof_equity_shares REAL,
    total_dividend_paymentof_non_equity_shares REAL,
    changein_the_gross_provisionfor_unearned_premiums REAL,
    changein_the_gross_provisionfor_unearned_premiums_reinsurers_share REAL,
    claimsand_changein_insurance_liabilities REAL,
    reinsurance_recoveriesof_insurance_liabilities REAL,
    total_operating_income_as_reported REAL,
    other_ga REAL,
    other_costof_revenue REAL,
    rentand_landing_fees_costof_revenue REAL,
    dda_costof_revenue REAL,
    rent_expense_supplemental REAL,
    normalized_pre_tax_income REAL,
    research_and_development_expenses_supplemental REAL,
    depreciation_supplemental REAL,
    amortization_supplemental REAL,
    total_revenue_as_reported REAL,
    operating_expense_as_reported REAL,
    normalized_income_as_reported REAL,
    normalized_ebitda_as_reported REAL,
    normalized_ebit_as_reported REAL,
    normalized_operating_profit_as_reported REAL,
    effective_tax_rate_as_reported REAL,
    date TEXT
);

CREATE UNIQUE INDEX idx_financial_income_statements ON financial_income_statements (symbol, recent_month);

DROP TABLE IF EXISTS financial_statements;

CREATE TABLE IF NOT EXISTS financial_statements (
  symbol TEXT,
  period_ending_date TEXT,
  recent_month TEXT,
  file_date TEXT,
  accession_number TEXT,
  form_type TEXT,
  period_auditor TEXT,
  auditor_report_status TEXT,
  inventory_valuation_method TEXT,
  number_of_share_holders TEXT,
  period_type TEXT,
  total_risk_based_capital TEXT,
  date TEXT
);

CREATE UNIQUE INDEX idx_financial_statements ON financial_statements (symbol, recent_month);

DROP TABLE IF EXISTS security_reference;

CREATE TABLE IF NOT EXISTS security_reference (
  security_symbol TEXT PRIMARY KEY,
  symbol TEXT,
  exchange_id TEXT,
  currency_id TEXT,
  ipo_date TEXT,
  is_depositary_receipt TEXT,
  depositary_receipt_ratio REAL,
  security_type TEXT,
  share_class_description TEXT,
  share_class_status TEXT,
  is_primary_share TEXT,
  is_dividend_reinvest TEXT,
  is_direct_invest TEXT,
  investment_id TEXT,
  ipo_offer_price REAL,
  delisting_date TEXT,
  delisting_reason TEXT,
  mic TEXT,
  common_share_sub_type TEXT,
  ipo_offer_price_range TEXT,
  exchange_sub_market_global_id TEXT,
  conversion_ration REAL,
  par_value REAL,
  trading_status TEXT,
  market_data_id TEXT,
  date TEXT
);

DROP TABLE IF EXISTS company_reference;

CREATE TABLE IF NOT EXISTS company_reference (
  company_id TEXT PRIMARY KEY,
  symbol TEXT,
  short_name TEXT,
  standard_name TEXT,
  legal_name TEXT,
  country_id TEXT,
  cik TEXT,
  company_status TEXT,
  fiscal_year_end INTEGER,
  industry_template_code TEXT,
  primary_share_class_id TEXT,
  primary_symbol TEXT,
  primary_exchange_id TEXT,
  business_country_id TEXT,
  legal_name_language_code TEXT,
  auditor TEXT,
  auditor_language_code TEXT,
  advisor TEXT,
  advisor_language_code TEXT,
  is_limited_partnership TEXT,
  is_reit TEXT,
  primary_mic TEXT,
  report_style INTEGER,
  yearof_establishment TEXT,
  is_limited_liability_company TEXT,
  expected_fiscal_year_end TEXT,
  date TEXT
);

DROP TABLE IF EXISTS financial_fundamental_base;

CREATE TABLE IF NOT EXISTS financial_fundamental_base (
    symbol TEXT,
    dollar_volume REAL,
    volume INTEGER,
    price_factor REAL,
    split_factor REAL,
    value REAL,
    end_time TEXT,
    market_cap INTEGER,
    market TEXT,
    price_scale_factor REAL,
    adjusted_price REAL,
    price REAL,
    data_type TEXT,
    is_fill_forward TEXT,
    time TEXT,
    date TEXT
);

CREATE UNIQUE INDEX idx_financial_fundamental_base ON financial_fundamental_base (symbol, date);